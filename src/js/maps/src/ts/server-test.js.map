{"version":3,"names":[],"mappings":"","sources":["src/ts/server-test.js"],"sourcesContent":["/// <reference path=\"../../typings/express/express.d.ts\" />\n/// <reference path=\"../../typings/body-parser/body-parser.d.ts\" />\nvar express = require('express');\nconst app = express();\nvar bodyParser = require('body-parser');\nvar DAO = require('./dao/daoImpl');\nconst userDAO = new DAO.InMemoryUserDAO();\n// configure our app to use bodyParser(it let us get the json data from a POST)\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\nconst port = process.env.PORT || 8080;\nconst router = express.Router();\n// // test route\n// router.get('/', function (req, res) {\n//     res.json({message: 'welcome' + req.query.name});\n// });\nrouter.get('/', function (req, res) {\n    res.json(userDAO.read(req.query.id));\n});\nrouter.post('/', function (req, res) {\n    res.json(userDAO.create(req.body));\n});\nrouter.put('/', function (req, res) {\n    res.json({ result: userDAO.update(req.body) });\n});\nrouter.delete('/', function (req, res) {\n    res.json({ result: userDAO.delete(req.query.id) });\n});\n// prefixed all routes with /api\napp.use('/api', router);\napp.listen(port);\nconsole.log('http://127.0.0.1:' + port + '/api');\n"],"file":"src/ts/server-test.js","sourceRoot":"/source/"}